"use strict";function editInfosBT(){var t=parseFloat($(".skuBestPrice:eq(0)").text().replace(".","").replace("R$ ","")),e=parseFloat($(".pbiB.showing strong").text().replace("R$ ","")),s=t+e;$(".productBuytogether__totalizers strong").html("R$ "+s.toFixed(2).replace(".",","))}function buyTogether(){var t='\n\t<div class="pbiA">\n\t\t<img src="'+$("#image-main").attr("src")+'" />\n\t\t<p class="pbiA__name">'+$(".productName:eq(0)").text()+'</p>\n\t\t<span class="pbiA__skus"></span>\n\t\t<strong class="pbiA__price">'+$(".skuBestPrice:eq(0)").text()+"</strong>\n\t</div>\n\t";$(t).appendTo(".productBuytogether__item1");for(var e=0;e<skuJson_0.skus.length;e++)if(skuJson_0.skus[e].available===!0){var s='<span data-sku="'+skuJson_0.skus[e].sku+'">'+skuJson_0.skus[e].values[1]+"</span>";$(s).appendTo(".pbiA__skus")}var a={url:"/api/catalog_system/pub/products/crossselling/similars/"+skuJson.productId,method:"GET",timeout:0,headers:{"Content-Type":"application/json"}};$.ajax(a).done(function(t){t.length>0&&$(".productBuytogether").removeAttr("style");for(var e=0;e<t.length;e++)for(var s=0;s<t[e].items.length;s++){if(t[e].items[s].sellers[0].commertialOffer.AvailableQuantity>0){var a='\n\t\t\t\t\t<div class="pbiB" data-productId="'+t[e].productId+'">\n\t\t\t\t\t\t<a href="'+t[e].link+'"><img src="'+t[e].items[0].images[0].imageUrl+'" />\n\t\t\t\t\t\t<p class="pbiB__name">'+t[e].productName+'</p></a>\n\t\t\t\t\t\t<div class="pbiB__skus"></div>\n\t\t\t\t\t\t<strong class="pbiB__price">R$ '+t[e].items[s].sellers[0].commertialOffer.ListPrice.toFixed(2).replace(".",",")+"</strong>\n\t\t\t\t\t</div>";if($(a).appendTo(".productBuytogether__item2"),""==$(".productBuytogether__totalizers strong").html()){var i=parseFloat($(".skuBestPrice:eq(0)").text().replace(".","").replace("R$ ","")),o=parseFloat(t[e].items[s].sellers[0].commertialOffer.ListPrice.toFixed(2).replace(".",",")),r=i+o;$(".productBuytogether__totalizers strong").html("R$ "+r.toFixed(2).replace(".",","))}}if(0==$(".pbiB.showing").length){$(".pbiB:eq(0)").addClass("showing")}}});setInterval(function(){for(var t=0;t<$(".pbiB").length;t++)if(!$(".pbiB:eq("+t+")").hasClass("sc")){$(".pbiB:eq("+t+")").addClass("sc");var e={url:"/api/catalog_system/pub/products/search?fq=productId:"+$(".pbiB:eq("+t+")").attr("data-productId"),method:"GET",timeout:0,headers:{"Content-Type":"application/json"}};$.ajax(e).done(function(t){for(var e="",s=0;s<t[0].items.length;s++)t[0].items[s].sellers[0].commertialOffer.AvailableQuantity>0&&(e+='<span data-sku="'+t[0].items[s].itemId+'">'+t[0].items[s].TAMANHO+"</span>"),s===t[0].items.length-1&&$(".pbiB[data-productId='"+t[0].productId+"'] .pbiB__skus").html(e)})}},500);$(".productBuytogether__item2--toPrev").addClass("disabled"),$("body").on("click",".productBuytogether__item2--toPrev",function(){var t=$(".pbiB:eq(0)").index();$(".productBuytogether__item2--toNext").removeClass("disabled"),$(this).hasClass("disabled")||($(".pbiB.showing").prev(".pbiB").addClass("showing"),$(".pbiB.showing:last").removeClass("showing"),$(".pbiB.showing").index()===t&&$(".productBuytogether__item2--toPrev").addClass("disabled"),editInfosBT())}),$("body").on("click",".productBuytogether__item2--toNext",function(){var t=$(".pbiB:eq(0)").index()+$(".pbiB").length-1;$(".productBuytogether__item2--toPrev").removeClass("disabled"),$(this).hasClass("disabled")||($(".pbiB.showing").next(".pbiB").addClass("showing"),$(".pbiB.showing:first").removeClass("showing"),$(".pbiB.showing").index()===t&&$(".productBuytogether__item2--toNext").addClass("disabled"),editInfosBT())}),$("body").on("click",".pbiA__skus > span,.pbiB__skus > span",function(){$(this).parents(".pbiA__skus,.pbiB__skus").find("span").removeClass("active"),$(this).addClass("active")}),$("body").on("click",".productBuytogether__totalizers > a",function(){if($(".pbiA__skus span.active").length>0&&$(".pbiB__skus span.active").length>0){var t=$(".pbiA__skus span.active").attr("data-sku"),e=$(".pbiB__skus span.active").attr("data-sku"),s="/checkout/cart/add?sku="+t+"&sku="+e+"&qty=1&qty=1&seller=1&seller=1";window.location=s}else alert("Selecione os tamanhos desejados!")})}$(document).ready(function(){buyTogether()});
//# sourceMappingURL=product.js.map
