{"version":3,"sources":["product.js"],"names":["editInfosBT","priceA","parseFloat","$","text","replace","priceB","totalPrice","html","toFixed","buyTogether","itemA","attr","appendTo","m","skuJson_0","skus","length","available","aSku","sku","values","settings","url","skuJson","productId","method","timeout","headers","Content-Type","ajax","done","similars","removeAttr","i","j","items","sellers","commertialOffer","AvailableQuantity","itemB","link","images","imageUrl","productName","ListPrice","addClass","setInterval","p","hasClass","settings2","product","bSkus","n","itemId","TAMANHO","on","limit","index","removeClass","this","prev","next","parents","find","itemASku","itemBSku","cartUrl","window","location","alert","document","ready"],"mappings":"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","file":"product.js","sourcesContent":["function editInfosBT(){\r\n\tvar priceA = parseFloat($(\".skuBestPrice:eq(0)\").text().replace(\".\",\"\").replace(\"R$ \",\"\"));\r\n\tvar priceB = parseFloat($(\".pbiB.showing strong\").text().replace(\"R$ \",\"\"));\r\n\tvar totalPrice = priceA + priceB;\r\n\t$(\".productBuytogether__totalizers strong\").html(\"R$ \"+totalPrice.toFixed(2).replace(\".\",\",\"));\r\n}\r\n\r\nfunction buyTogether(){\r\n\r\n\tvar itemA = `\r\n\t<div class=\"pbiA\">\r\n\t\t<img src=\"${$(\"#image-main\").attr(\"src\")}\" />\r\n\t\t<p class=\"pbiA__name\">${$(\".productName:eq(0)\").text()}</p>\r\n\t\t<span class=\"pbiA__skus\"></span>\r\n\t\t<strong class=\"pbiA__price\">${$(\".skuBestPrice:eq(0)\").text()}</strong>\r\n\t</div>\r\n\t`;\r\n\r\n\t$(itemA).appendTo(\".productBuytogether__item1\");\r\n\r\n\tfor(var m = 0; m < skuJson_0.skus.length; m++){\r\n\t\tif(skuJson_0.skus[m].available === true){\r\n\t\t\tvar aSku = `<span data-sku=\"${skuJson_0.skus[m].sku}\">${skuJson_0.skus[m].values[1]}</span>`;\r\n\t\t\t$(aSku).appendTo(\".pbiA__skus\");\r\n\t\t}\r\n\t}\r\n\r\n\tvar settings = {\r\n\t  \"url\": \"/api/catalog_system/pub/products/crossselling/similars/\"+skuJson.productId,\r\n\t  \"method\": \"GET\",\r\n\t  \"timeout\": 0,\r\n\t  \"headers\": {\r\n\t    \"Content-Type\": \"application/json\"\r\n\t  },\r\n\t};\r\n\t$.ajax(settings).done(function (similars) {\r\n\r\n\t\tif(similars.length > 0){\r\n\t\t\t$(\".productBuytogether\").removeAttr(\"style\");\r\n\t\t}\r\n\r\n\t\tfor(var i = 0; i < similars.length; i++){\r\n\r\n\t\t\tfor(var j = 0; j < similars[i].items.length; j++){\r\n\t\t\t\tif(similars[i].items[j].sellers[0].commertialOffer.AvailableQuantity > 0){\r\n\r\n\t\t\t\t\tvar itemB = `\r\n\t\t\t\t\t<div class=\"pbiB\" data-productId=\"${similars[i].productId}\">\r\n\t\t\t\t\t\t<a href=\"${similars[i].link}\"><img src=\"${similars[i].items[0].images[0].imageUrl}\" />\r\n\t\t\t\t\t\t<p class=\"pbiB__name\">${similars[i].productName}</p></a>\r\n\t\t\t\t\t\t<div class=\"pbiB__skus\"></div>\r\n\t\t\t\t\t\t<strong class=\"pbiB__price\">R$ ${similars[i].items[j].sellers[0].commertialOffer.ListPrice.toFixed(2).replace(\".\",\",\")}</strong>\r\n\t\t\t\t\t</div>`;\r\n\t\t\t\t\t$(itemB).appendTo(\".productBuytogether__item2\");\r\n\r\n\t\t\t\t\tif($(\".productBuytogether__totalizers strong\").html() == \"\"){\r\n\t\t\t\t\t\tvar priceA = parseFloat($(\".skuBestPrice:eq(0)\").text().replace(\".\",\"\").replace(\"R$ \",\"\"));\r\n\t\t\t\t\t\tvar priceB = parseFloat(similars[i].items[j].sellers[0].commertialOffer.ListPrice.toFixed(2).replace(\".\",\",\"));\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar totalPrice = priceA + priceB;\r\n\t\t\t\t\t\t$(\".productBuytogether__totalizers strong\").html(\"R$ \"+totalPrice.toFixed(2).replace(\".\",\",\"));\r\n\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif($(\".pbiB.showing\").length == 0){\r\n\t\t\t\t\t$(\".pbiB:eq(0)\").addClass(\"showing\");\r\n\t\t\t\t\tvar linkBt = 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t});\r\n\r\n\tvar setBSkus = setInterval(function(){\r\n\r\n\t\tfor(var p = 0; p < $(\".pbiB\").length; p++){\r\n\t\t\tif(!$(\".pbiB:eq(\"+p+\")\").hasClass(\"sc\")){\r\n\t\t\t\t$(\".pbiB:eq(\"+p+\")\").addClass(\"sc\");\r\n\t\t\t\tvar settings2 = {\r\n\t\t\t\t  \"url\": \"/api/catalog_system/pub/products/search?fq=productId:\"+$(\".pbiB:eq(\"+p+\")\").attr(\"data-productId\"),\r\n\t\t\t\t  \"method\": \"GET\",\r\n\t\t\t\t  \"timeout\": 0,\r\n\t\t\t\t  \"headers\": {\r\n\t\t\t\t    \"Content-Type\": \"application/json\"\r\n\t\t\t\t  },\r\n\t\t\t\t};\r\n\t\t\t\t$.ajax(settings2).done(function (product) {\r\n\t\t\t\t\tvar bSkus = \"\";\r\n\t\t\t\t\tfor(var n = 0; n < product[0].items.length; n++){\r\n\t\t\t\t\t\tif(product[0].items[n].sellers[0].commertialOffer.AvailableQuantity > 0){\r\n\t\t\t\t\t\t\tbSkus += `<span data-sku=\"${product[0].items[n].itemId}\">${product[0].items[n].TAMANHO}</span>`;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(n === product[0].items.length - 1){\r\n\t\t\t\t\t\t\t$(\".pbiB[data-productId='\"+product[0].productId+\"'] .pbiB__skus\").html(bSkus);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t});\r\n\t\t\t}\t\r\n\t\t}\r\n\r\n\t},500);\r\n\r\n\t$(\".productBuytogether__item2--toPrev\").addClass(\"disabled\");\r\n\r\n\t$(\"body\").on(\"click\",\".productBuytogether__item2--toPrev\",function(){\r\n\t\tvar limit = $(\".pbiB:eq(0)\").index();\r\n\t\t$(\".productBuytogether__item2--toNext\").removeClass(\"disabled\");\t\r\n    if(!$(this).hasClass(\"disabled\")){\r\n    \t$(\".pbiB.showing\").prev(\".pbiB\").addClass(\"showing\");\r\n    \t$(\".pbiB.showing:last\").removeClass(\"showing\");\r\n    \tif($(\".pbiB.showing\").index() === limit){\r\n    \t\t$(\".productBuytogether__item2--toPrev\").addClass(\"disabled\");\t\r\n    \t}\r\n\r\n    \teditInfosBT();\r\n\r\n    }\r\n\t});\r\n\r\n\t$(\"body\").on(\"click\",\".productBuytogether__item2--toNext\",function(){\r\n\t\t\tvar limit = $(\".pbiB:eq(0)\").index() + $(\".pbiB\").length - 1;\r\n\t\t\t$(\".productBuytogether__item2--toPrev\").removeClass(\"disabled\");\t\r\n\t    if(!$(this).hasClass(\"disabled\")){\r\n      \t$(\".pbiB.showing\").next(\".pbiB\").addClass(\"showing\");\r\n      \t$(\".pbiB.showing:first\").removeClass(\"showing\");\r\n      \tif($(\".pbiB.showing\").index() === limit){\r\n      \t\t$(\".productBuytogether__item2--toNext\").addClass(\"disabled\");\t\r\n      \t}\r\n\r\n      \teditInfosBT();\r\n\r\n\t    }\r\n\t});\r\n\r\n\t$(\"body\").on(\"click\",\".pbiA__skus > span,.pbiB__skus > span\",function(){\r\n\t\t$(this).parents(\".pbiA__skus,.pbiB__skus\").find(\"span\").removeClass(\"active\");\r\n\t\t$(this).addClass(\"active\");\r\n\t});\r\n\r\n\t$(\"body\").on(\"click\",\".productBuytogether__totalizers > a\",function(){\r\n\r\n\tif($(\".pbiA__skus span.active\").length > 0 && $(\".pbiB__skus span.active\").length > 0){\r\n\t\tvar itemASku = $(\".pbiA__skus span.active\").attr(\"data-sku\");\r\n\t\tvar itemBSku = $(\".pbiB__skus span.active\").attr(\"data-sku\");\r\n\r\n\t\tvar cartUrl = `/checkout/cart/add?sku=${itemASku}&sku=${itemBSku}&qty=1&qty=1&seller=1&seller=1`;\r\n\t\twindow.location=cartUrl;\r\n\r\n\t}\r\n\telse{\r\n\t\talert(\"Selecione os tamanhos desejados!\");\r\n\t}\r\n\r\n\r\n\t});\r\n\r\n}\r\n\r\n$(document).ready(function(){\r\n\r\n\tbuyTogether();\r\n\r\n});"]}